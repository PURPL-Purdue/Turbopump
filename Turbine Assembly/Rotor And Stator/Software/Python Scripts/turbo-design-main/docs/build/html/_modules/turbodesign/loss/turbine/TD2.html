

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>turbodesign.loss.turbine.TD2 &mdash; Turbo Design 1.0.6 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=e2a723ec"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html">
            
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/bladerow.html">BladeRow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/bladerow.html#turbodesign.bladerow.BladeRow"><code class="docutils literal notranslate"><span class="pre">BladeRow</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/bladerow.html#turbodesign.bladerow.compute_gas_constants"><code class="docutils literal notranslate"><span class="pre">compute_gas_constants()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/bladerow.html#turbodesign.bladerow.interpolate_quantities"><code class="docutils literal notranslate"><span class="pre">interpolate_quantities()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/bladerow.html#turbodesign.bladerow.interpolate_streamline_radii"><code class="docutils literal notranslate"><span class="pre">interpolate_streamline_radii()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/bladerow.html#turbodesign.bladerow.sutherland"><code class="docutils literal notranslate"><span class="pre">sutherland()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/coolant.html">Coolant</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/coolant.html#turbodesign.coolant.Coolant"><code class="docutils literal notranslate"><span class="pre">Coolant</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/enums.html">Enums</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/enums.html#turbodesign.enums.LossType"><code class="docutils literal notranslate"><span class="pre">LossType</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/enums.html#turbodesign.enums.MassflowConstraint"><code class="docutils literal notranslate"><span class="pre">MassflowConstraint</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/enums.html#turbodesign.enums.PassageType"><code class="docutils literal notranslate"><span class="pre">PassageType</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/enums.html#turbodesign.enums.PowerType"><code class="docutils literal notranslate"><span class="pre">PowerType</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/enums.html#turbodesign.enums.RowType"><code class="docutils literal notranslate"><span class="pre">RowType</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/inlet.html">Inlet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/inlet.html#turbodesign.inlet.Inlet"><code class="docutils literal notranslate"><span class="pre">Inlet</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/isentropic.html">Isentropic Equations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/isentropic.html#turbodesign.isentropic.A_As"><code class="docutils literal notranslate"><span class="pre">A_As()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/isentropic.html#turbodesign.isentropic.FindMachP0P"><code class="docutils literal notranslate"><span class="pre">FindMachP0P()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/isentropic.html#turbodesign.isentropic.IsenP"><code class="docutils literal notranslate"><span class="pre">IsenP()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/isentropic.html#turbodesign.isentropic.IsenT"><code class="docutils literal notranslate"><span class="pre">IsenT()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/isentropic.html#turbodesign.isentropic.Massflow"><code class="docutils literal notranslate"><span class="pre">Massflow()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/loss.html">Turbine Loss</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/loss.html#loss-type">Loss Type</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/loss.html#ainley-mathieson">Ainley Mathieson</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/loss.html#traupel">Traupel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/loss.html#craig-cox">Craig Cox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/loss.html#kacker-okapuu">Kacker Okapuu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/loss.html#turbine-design-default">Turbine Design (Default)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/loss.html#fixed-pressure-loss">Fixed Pressure Loss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/loss.html#fixed-efficiency-loss">Fixed Efficiency Loss</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/lossinterp.html">Loss Interpolations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/lossinterp.html#turbodesign.lossinterp.LossInterp"><code class="docutils literal notranslate"><span class="pre">LossInterp</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/outlet.html">Outlet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/outlet.html#turbodesign.outlet.Outlet"><code class="docutils literal notranslate"><span class="pre">Outlet</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/passage.html">Passage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/passage.html#turbodesign.passage.Passage"><code class="docutils literal notranslate"><span class="pre">Passage</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/radeq.html">Radial Equilibrium</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/radeq.html#turbodesign.radeq.radeq"><code class="docutils literal notranslate"><span class="pre">radeq()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/rotor.html">Rotor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/rotor.html#turbodesign.rotor.Rotor"><code class="docutils literal notranslate"><span class="pre">Rotor</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/solve_radeq.html">Solve Radial Equilibrium</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/solve_radeq.html#turbodesign.solve_radeq.adjust_streamlines"><code class="docutils literal notranslate"><span class="pre">adjust_streamlines()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/spool.html">Spool</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/spool.html#turbodesign.spool.Spool"><code class="docutils literal notranslate"><span class="pre">Spool</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/td_math.html">Turbine Design Math</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/td_math.html#turbodesign.td_math.T0_coolant_weighted_average"><code class="docutils literal notranslate"><span class="pre">T0_coolant_weighted_average()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/td_math.html#turbodesign.td_math.compute_massflow"><code class="docutils literal notranslate"><span class="pre">compute_massflow()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/td_math.html#turbodesign.td_math.compute_power"><code class="docutils literal notranslate"><span class="pre">compute_power()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/td_math.html#turbodesign.td_math.compute_quantities"><code class="docutils literal notranslate"><span class="pre">compute_quantities()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/td_math.html#turbodesign.td_math.compute_reynolds"><code class="docutils literal notranslate"><span class="pre">compute_reynolds()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/td_math.html#turbodesign.td_math.inlet_calc"><code class="docutils literal notranslate"><span class="pre">inlet_calc()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/td_math.html#turbodesign.td_math.rotor_calc"><code class="docutils literal notranslate"><span class="pre">rotor_calc()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/td_math.html#turbodesign.td_math.stator_calc"><code class="docutils literal notranslate"><span class="pre">stator_calc()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/turbinespool.html">Turbine Spool</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../modules/turbinespool.html#turbodesign.turbinespool.TurbineSpool"><code class="docutils literal notranslate"><span class="pre">TurbineSpool</span></code></a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Turbo Design</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">turbodesign.loss.turbine.TD2</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for turbodesign.loss.turbine.TD2</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">...lossinterp</span><span class="w"> </span><span class="kn">import</span> <span class="n">LossInterp</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">...enums</span><span class="w"> </span><span class="kn">import</span> <span class="n">RowType</span><span class="p">,</span> <span class="n">LossType</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Union</span> 
<span class="kn">from</span><span class="w"> </span><span class="nn">...bladerow</span><span class="w"> </span><span class="kn">import</span> <span class="n">BladeRow</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">linregress</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span> 
<span class="kn">from</span><span class="w"> </span><span class="nn">..losstype</span><span class="w"> </span><span class="kn">import</span> <span class="n">LossBaseClass</span>


<div class="viewcode-block" id="TD2">
<a class="viewcode-back" href="../../../../modules/loss.html#turbodesign.loss.turbine.TD2.TD2">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">TD2</span><span class="p">(</span><span class="n">LossBaseClass</span><span class="p">):</span>

    
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">LossType</span><span class="o">.</span><span class="n">Pressure</span><span class="p">)</span>

        
    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">LossType</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loss_type</span>
    
<div class="viewcode-block" id="TD2.__call__">
<a class="viewcode-back" href="../../../../modules/loss.html#turbodesign.loss.turbine.TD2.TD2.__call__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">row</span><span class="p">:</span><span class="n">BladeRow</span><span class="p">,</span> <span class="n">upstream</span><span class="p">:</span><span class="n">BladeRow</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;TD2-2_Manual equations 12a and 12b. This is the loss equation used inside original TD2.</span>
<span class="sd">        #! Wrong very wrong from the book definition</span>
<span class="sd">        Total Pressure Loss (Y) = (P_in - P_ex) / (P_ex - P_ex,static)</span>
<span class="sd">        Where P_in and P_ex are total quantities </span>
<span class="sd">        </span>
<span class="sd">        Authors Comments:</span>
<span class="sd">            Given the assumptions, the use of this loss correlation should be limited to starting a solution. </span>

<span class="sd">        Assumptions:</span>
<span class="sd">            1. Rotor and stator loss coefficients were equal when their relative design requirements are identical </span>
<span class="sd">            2. Stage reaction at meanline is 50%</span>
<span class="sd">            3. Axial velocity was constant through the stage</span>
<span class="sd">            4. Stator exit Mach number is 0.8 </span>

<span class="sd">        Args:</span>
<span class="sd">            beta_in (float): Inlet flow angle in degrees. </span>
<span class="sd">            beta_ex (float): Exit flow angle in degrees.</span>
<span class="sd">            V_ratio (float): Ratio if inlet velocity magnitude with relative exit velocity magnitude</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Total Pressure loss coefficient</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">beta_in</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">beta1</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="c1"># absolute flow angle entering the blade row</span>
        <span class="n">beta_ex</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">beta2</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>  <span class="c1"># flow angle leaving the blade row</span>
        <span class="k">if</span> <span class="n">row</span><span class="o">.</span><span class="n">row_type</span> <span class="o">==</span> <span class="n">RowType</span><span class="o">.</span><span class="n">Stator</span><span class="p">:</span>
            <span class="n">V_ratio</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">V</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">/</span> <span class="n">upstream</span><span class="o">.</span><span class="n">V</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>    <span class="c1"># Vin/Vex Equation 12a and 12b. Relative to Stator</span>
        <span class="k">elif</span> <span class="n">row</span><span class="o">.</span><span class="n">row_type</span> <span class="o">==</span> <span class="n">RowType</span><span class="o">.</span><span class="n">Rotor</span><span class="p">:</span>
            <span class="n">V_ratio</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">W</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">/</span><span class="n">upstream</span><span class="o">.</span><span class="n">W</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>     <span class="c1"># Vin/Vex Equation 12a and 12b. Relative to Rotor </span>

        <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.055</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.157255</span><span class="p">,</span> <span class="mf">3.6</span><span class="p">]</span> <span class="c1"># Coefficients from pw3hp1.json</span>
        <span class="c1"># mu should be in </span>
        <span class="k">if</span> <span class="n">V_ratio</span> <span class="o">&lt;</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> 
            <span class="n">Y</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">beta_in</span><span class="p">)</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">beta_ex</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">beta_ex</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">*</span><span class="n">V_ratio</span><span class="o">**</span><span class="n">a</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Y</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">beta_in</span><span class="p">)</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">beta_ex</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">beta_ex</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">V_ratio</span> <span class="o">-</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>

        <span class="k">return</span> <span class="n">Y</span></div>
</div>

    
<div class="viewcode-block" id="TD2_Reynolds_Correction">
<a class="viewcode-back" href="../../../../modules/loss.html#turbodesign.loss.turbine.TD2.TD2_Reynolds_Correction">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">TD2_Reynolds_Correction</span><span class="p">(</span><span class="n">LossBaseClass</span><span class="p">):</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">LossType</span><span class="o">.</span><span class="n">Pressure</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">TD2</span> <span class="o">=</span> <span class="n">TD2</span><span class="p">()</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">LossType</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loss_type</span>
    
<div class="viewcode-block" id="TD2_Reynolds_Correction.__call__">
<a class="viewcode-back" href="../../../../modules/loss.html#turbodesign.loss.turbine.TD2.TD2_Reynolds_Correction.__call__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">upstream</span><span class="p">:</span><span class="n">BladeRow</span><span class="p">,</span> <span class="n">row</span><span class="p">:</span><span class="n">BladeRow</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;TD2_Pressure_Loss with Reynolds Correction Factor. This is from NASA SP-290 (Vol.1, p.62)</span>
<span class="sd">    </span>
<span class="sd">        The correlations come from td2-2.f Line 2771 </span>
<span class="sd">        WYECOR(I)=WYECOR(I)*(0.35+0.65*18.21)/(0.35+0.65*(FLWP/VISC/RST(MEAN))**(0.2))</span>
<span class="sd">        </span>
<span class="sd">        I have assumed that 18.21 is some reference reynolds number. There is very little documentation on what these numbers are. The entire fortran code is frustrating and probably should never have happened in the first place. </span>

<span class="sd">        Args:</span>
<span class="sd">            row (BladeRow): Current Blade Row</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            float: Total Pressure loss coefficient</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">TD2</span><span class="p">(</span><span class="n">upstream</span><span class="p">,</span><span class="n">row</span><span class="p">)</span>
        <span class="n">A</span> <span class="o">=</span> <span class="mf">0.35</span>
        <span class="n">B</span> <span class="o">=</span> <span class="mf">0.65</span>
        <span class="n">Y</span> <span class="o">=</span> <span class="n">Y</span> <span class="o">*</span> <span class="p">(</span><span class="n">A</span><span class="o">+</span><span class="n">B</span><span class="o">*</span><span class="mf">18.21</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mf">0.35</span><span class="o">+</span><span class="mf">0.65</span><span class="o">*</span><span class="n">row</span><span class="o">.</span><span class="n">massflow</span><span class="o">/</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">mu</span><span class="o">*</span> <span class="n">row</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">mean</span><span class="p">()))</span>
        <span class="n">row</span><span class="o">.</span><span class="n">Yp</span> <span class="o">=</span> <span class="n">Y</span>
        <span class="k">return</span> <span class="n">Y</span></div>
</div>

    
<span class="c1"># def Soderberg(upstream:BladeRow,row:BladeRow) -&gt; float: </span>
<span class="c1">#     &quot;&quot;&quot;Soderberg Loss for axial machines. Takes into account the aspect ratio </span>

<span class="c1">#     Args:</span>
<span class="c1">#         upstream (BladeRow): _description_</span>
<span class="c1">#         row (BladeRow): _description_</span>

<span class="c1">#     Returns:</span>
<span class="c1">#         float: Enthalpy Loss Coefficients </span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     H = row.r.max()-row.r.min()</span>
<span class="c1">#     l = row.x[-1]-row.x[0]</span>
<span class="c1">#     xi = 0.04+0.06*((row.beta2-row.beta1)/100)**2 </span>
<span class="c1">#     if row.row_type == RowType.Stator:</span>
<span class="c1">#         mu = sutherland(row.T.mean())</span>
<span class="c1">#         Re = row.rho*row.V*(l)/mu</span>
<span class="c1">#         enthalpy_loss = (10E5/Re)**0.25 * ((1+xi)*(0.993+0.075*l/H)-1)</span>
<span class="c1">#     else:</span>
<span class="c1">#         mu = sutherland(row.T.mean())</span>
<span class="c1">#         Re = row.rho*row.W*(row.x[-1]-row.x[0])/mu</span>
<span class="c1">#         enthalpy_loss = (10E5/Re)**0.25 * ((1+xi)*(0.975+0.075*l/H)-1)</span>
<span class="c1">#     return enthalpy_loss</span>

<span class="c1"># def AinleyMathieson(upstream:BladeRow,row:BladeRow) -&gt; float:</span>
<span class="c1">#     &quot;&quot;&quot;Ainley Mathieson equation for computing total pressure loss (Yp)</span>

<span class="c1">#     Args:</span>
<span class="c1">#         upstream (BladeRow): _description_</span>
<span class="c1">#         row (BladeRow): _description_</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#     #! Need to extract data from plots </span>
<span class="c1">#     pass </span>

<span class="c1"># def AinleyMathiesonUpdated(upstream:BladeRow,row:BladeRow) -&gt; float:</span>
<span class="c1">#     &quot;&quot;&quot;Updated version of Ainley Mathieson</span>
<span class="c1">#     https://www.mdpi.com/2504-186X/7/2/14</span>
<span class="c1">#     These derivations are valid for steam turbines.</span>

<span class="c1">#     Note:</span>
<span class="c1">#         According to the authors, Pressure Loss divided in to 3 components: Profile Loss, secondary loss, and tip/shroud clearance loss</span>

<span class="c1">#     Args:</span>
<span class="c1">#         upstream (BladeRow): _description_</span>
<span class="c1">#         row (BladeRow): _description_</span>

<span class="c1">#     Returns:</span>
<span class="c1">#         float: _description_</span>
<span class="c1">#     &quot;&quot;&quot;</span>
    
<span class="c1">#     pass </span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Paht Juangphanich.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>